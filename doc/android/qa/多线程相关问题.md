## Q: volatile & synchronized
### volatile 
如果对声明了volatile的变量进行写操作，JVM就会向处理器发送一条Lock前缀的指令，将这个变量所在缓存行的数据写回到系统内存。
Lock操作会引发两件事情： 1) 将当前处理器缓存行的数据写回到系统内存;   2) 这个写回内存的操作会使在其他CPU里缓存了该内存地址的数据无效；

1. volatile变量，只能确保可见性，不能确保原子性；
2. 操作的原子性，就是指一个或多个操作，要么全部都会执行，并且在执行的过程中不会被打断，要么不执行；

### synchronized 

## 添加锁，为什么会让线程卡住？
1. 线程有几种状态：初始、等待、运行、阻塞、终止
2. 当一个线程持有锁后，另一个线程当需要获取这把锁发现已经被占用，则会进入阻塞状态；